# .env
# Скопируйте ваши текущие ключи API и добавьте эти изменения

# ============ Основные настройки ============
ENVIRONMENT=development
BOT_MODE=paper
TRADING_MODE=futures
DEBUG=true
PROJECT_NAME="Crypto Trading Bot"
VERSION=1.0.0

# ============ Binance API ============
# ВАЖНО: Вставьте ваши ключи сюда
API_BINANCE_API_KEY=u9u4qaDGzcN2oKvUuyWR81lCYFcdRBmK8tsg2SjXdTlUVCBbt8hMnzvdPVNlP0oG
API_BINANCE_API_SECRET=9Ew8Wzyzj9IviyNUjuXiH5RD9rrgvcjJVoNQLMWkGwYHWJmG4EH4zRJanmOMDbeu
API_TESTNET=true

# Для testnet используйте:
API_REST_URL=https://testnet.binance.vision
API_WS_URL=wss://testnet.binance.vision

# Rate limits
API_REQUEST_WEIGHT_LIMIT=6000
API_ORDER_LIMIT=50

# ============ База данных ============
# PostgreSQL/TimescaleDB
DB_POSTGRES_HOST=localhost
DB_POSTGRES_PORT=5432
DB_POSTGRES_DB=trading_bot
DB_POSTGRES_USER=trader
DB_POSTGRES_PASSWORD=trading_password_123

# Redis - ВАЖНО: используйте правильный порт
DB_REDIS_HOST=localhost
DB_REDIS_PORT=16379  # Вы используете 16379, не 6379
DB_REDIS_DB=0

# QuestDB (опционально для тиковых данных)
DB_QUESTDB_HOST=localhost
DB_QUESTDB_PORT=9009
DB_USE_QUESTDB=false

# ============ Торговые настройки - ОБНОВЛЕНО ============
TRADING_INITIAL_CAPITAL=50000.0  # Увеличен капитал
TRADING_RISK_PER_TRADE=0.02  # 2% риск на сделку
TRADING_MAX_POSITIONS=5

# Лимиты позиций - ОБНОВЛЕНО
TRADING_MIN_POSITION_SIZE_USDT=10.0  # Минимум $10
TRADING_MAX_POSITION_SIZE_PERCENT=0.20  # 20% от капитала

# Риск-менеджмент
TRADING_MAX_DAILY_LOSS_PERCENT=0.05  # 5%
TRADING_MAX_DRAWDOWN_PERCENT=0.20    # 20%
TRADING_STOP_LOSS_ATR_MULTIPLIER=1.5  # Уменьшен для более близких стопов
TRADING_TAKE_PROFIT_RR_RATIO=1.5     # Risk:Reward 1:1.5 для более частых профитов

# Корреляция
TRADING_MAX_CORRELATION=0.7

# Таймфреймы (через запятую) - добавлен 1m для быстрых обновлений
TRADING_TIMEFRAMES=["1m","5m","15m","1h"]
TRADING_PRIMARY_TIMEFRAME=15m

# Торговые пары - можно добавить больше
TRADING_SYMBOLS=["BTCUSDT","ETHUSDT","BNBUSDT","SOLUSDT","ADAUSDT"]

# ============ Машинное обучение ============
ML_USE_XGBOOST=true
ML_USE_LIGHTGBM=true
ML_ENSEMBLE_METHOD=voting

# Параметры обучения
ML_RETRAIN_INTERVAL_HOURS=2
ML_MIN_TRAINING_SAMPLES=1000
ML_VALIDATION_SPLIT=0.2

# Online learning
ML_ENABLE_ONLINE_LEARNING=true
ML_ONLINE_BATCH_SIZE=50
ML_ONLINE_UPDATE_FREQUENCY=300

# Feature engineering
ML_NUM_FEATURES=3266
ML_FEATURE_SELECTION_METHOD=importance

# Пороги - снижены для большей активности
ML_MIN_CONFIDENCE_THRESHOLD=0.55  # Снижен с 0.65
ML_MIN_WIN_PROBABILITY=0.50  # Снижен с 0.55

# ============ Сигналы - ОБНОВЛЕНО ============
# RSI
SIGNAL_RSI_PERIOD=7
SIGNAL_RSI_OVERSOLD=30.0  # Снижен с 35
SIGNAL_RSI_OVERBOUGHT=70.0  # Поднят с 65

# MACD (Linda Raschke settings)
SIGNAL_MACD_FAST=3
SIGNAL_MACD_SLOW=10
SIGNAL_MACD_SIGNAL=16

# Bollinger Bands
SIGNAL_BB_PERIOD=20
SIGNAL_BB_STD=2.0

# Volume
SIGNAL_MIN_VOLUME_RATIO=1.5

# Фильтры
SIGNAL_MIN_RR_RATIO=1.5

# ============ Paper Trading специфичные настройки ============
PAPER_STARTING_BALANCE=50000.0
PAPER_MAKER_FEE=0.001
PAPER_TAKER_FEE=0.001
PAPER_SLIPPAGE_BPS=5.0

# ============ Мониторинг ============
MONITORING_LOG_LEVEL=INFO
MONITORING_LOG_FORMAT=json
MONITORING_ENABLE_PROMETHEUS=true
MONITORING_PROMETHEUS_PORT=8000